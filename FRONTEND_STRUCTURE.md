# FRONTEND_STRUCTURE.md

이 문서는 Flask 기반 웹 서비스의 프론트엔드 디렉터리 구조와 각 구성 요소의 역할을 설명합니다.  
통계 데이터 기반 이상형 매칭 확률 계산 시스템으로, 실제 인구 비율을 활용한 정확한 확률 계산을 제공합니다.

---

## 디렉터리 구조

```
frontend/
├─ templates/
│  ├─ base.html        # 공통 레이아웃 템플릿
│  └─ index.html       # 통계 기반 이상형 조건 입력 폼
│
└─ static/
   ├─ css/
   │  └─ style.css      # 통계 기반 UI 스타일 정의
   ├─ js/
   │  ├─ main.js        # 조건 선택 및 폼 처리 로직
   │  └─ api.js         # 통계 API 통신 래퍼
   └─ img/
      └─ logo.png       # 정적 이미지 리소스
```

---

## 구성 요소 설명

| 경로 | 역할 |
|------|------|
| `templates/base.html` | 모든 페이지의 공통 레이아웃 (헤더, 푸터 등 포함) |
| `templates/index.html` | 통계 기반 이상형 조건 입력 폼 (base 확장) |
| `static/css/style.css` | 통계 기반 UI 스타일 (조건별 비율 표시, 결과 시각화) |
| `static/js/main.js` | 조건 선택 이벤트 핸들링 및 실시간 요약 업데이트 |
| `static/js/api.js` | 통계 데이터 API 통신 및 확률 계산 함수 |
| `static/img/` | UI용 이미지 리소스 저장 |

---

## 통계 기반 조건 시스템

### 지원하는 조건들

1. **키 (Height)**
   - 7개 구간: 150-155cm ~ 180-185cm
   - 각 구간별 인구 비율 표시 (예: 165-170cm = 28.4%)

2. **학력 (Education)**
   - 5개 수준: SKY, 인서울, 지거국, 4년제, 이하
   - 각 수준별 인구 비율 표시

3. **연봉 (Salary)**
   - 5개 구간: 2000만원 이하 ~ 5000만원 이상
   - 각 구간별 인구 비율 표시

4. **직업 (Job)**
   - 4개 유형: 전문직, 공무원, 공기업, 그 외
   - 각 유형별 인구 비율 표시

5. **지역 (Location)**
   - 3개 분류: 수도권, 지방광역시, 기타
   - 각 분류별 인구 비율 표시

6. **나이 (Age)**
   - 범위 입력 지원: 최소/최대 나이
   - 범위 전체에 대해 나이대별 미혼율을 가중 평균 적용

7. **혼인 여부 (Marital Status)**
   - 나이대별 미혼율 자동 적용

7. **흡연 여부 (Smoking)**
   - 성별 흡연율 자동 적용 (남성, 여성)

### 확률 계산 방식

- **곱셈 원리**: 각 조건의 인구 비율을 곱하여 최종 확률 계산
- **희귀도 분류**: 확률에 따른 6단계 희귀도 레벨 (극히 희귀 ~ 매우 흔함)
- **실시간 피드백**: 조건 선택 시 즉시 비율 정보 표시

---

## 템플릿 렌더링 흐름

1. `base.html`: 기본 레이아웃 제공 (`{% block content %}` 포함)
2. `index.html`: 통계 기반 조건 입력 폼 (`base.html` 상속)
   - 조건별 비율 정보 표시
   - 실시간 선택 요약 업데이트
   - 결과 시각화

---

## JavaScript 모듈 구조

### main.js
- 폼 제출 이벤트 처리
- 조건 선택 시 실시간 요약 업데이트
- 데이터 유효성 검사
- 결과 표시 로직

### api.js
- 통계 데이터 API 통신
- 조건별 비율 계산 함수
- 전체 확률 계산 함수
- 희귀도 레벨 판정

---

## 향후 확장 시 지침

- **새로운 조건 추가**: `STATISTICS_DATA`에 비율 정보 추가 후 UI 업데이트
- **통계 데이터 업데이트**: 실제 조사 데이터로 교체 (통계청, 고용노동부 등)
- **조건 조합 로직**: 조건 간 상관관계 고려한 고급 계산 로직 추가
- **시각화 개선**: 차트, 그래프 등을 통한 직관적 결과 표시
- **모바일 최적화**: 터치 인터페이스에 맞는 UI 개선 